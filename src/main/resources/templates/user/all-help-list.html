<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" th:href="@{/css/common-style.css}">
<link rel="stylesheet" th:href="@{/css/mt-style.css}">
<title>お手伝い検索・登録画面</title>
</head>
<body>
	<!--ヘッダーフラグメント-->
	<header th:replace="~{fragments/header :: header-fragment}"></header>
	
	<h2>お手伝い検索</h2>
	<p>検索ボタンを押すと、お手伝いリストを見ることができます。</p>
	<p>キーワードを入力し、お手伝いを検索することもできます。</p>
	<p>気になるお手伝いをMyリストへ登録しましょう！</p>
	<form th:action="@{/all-help-search}" method="POST" th:object="${allHelpListForm}">
		【お手伝い名】<br>
	   	<input type="text" th:field="*{help_name}" class="inputSize"><br>
		<br>
	   	<input type="submit" value="検索" class="btn">
	</form>
	<hr>
	<div th:if="${helpList} == null">
		該当するお手伝いが存在しません。
	</div>
	<div th:if="${helpList} != null">
		<h2>お手伝いリスト</h2>
	
		<table class="help-list">
			<tr>
				<th>登録</th><th>お手伝いID</th><th>お手伝い名</th><th>お小遣い</th>
			</tr>
			
			<tr th:each="help : ${helpList}">
			<!--					userがMyリストにお手伝いを登録-->
				<td>
					<form th:action="@{/user-regist}" method="POST" th:object="${userRegistForm}">
						<input type="hidden" name="help_id" th:value="${help.help_id}">
						<input type="hidden" name="help_name" th:value="${help.help_name}">
						<input type="hidden" name="help_ammount" th:value="${help.help_ammount}">
						<input type="submit" value="登録" class="tbtn">
					</form>
				</td>			
<!--				データ中身表示-->				
				<td th:text="${help.help_id}"></td>
				<td th:text="${help.help_name}"></td>
				<td th:text="${help.help_ammount}"></td>
			</tr>
		</table>
	</div>

	<br>
	<a th:href="@{/user-show-help-menu}">お手伝いメニュー</a>
	<a th:href="@{/user-top}">トップメニュー</a>


</body>
</html>
